<div class="mb-2 d-flex justify-content-around">
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#layout-<%= layout.id %>">
    View
  </button>
  <%= link_to "Edit", edit_layout_path(layout), class:"btn btn-primary" %>
</div>
<!-- Modal -->
<div class="modal fade" id="layout-<%= layout.id %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-controller="download-button">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">preview</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <% if layout.photo.attached?  %>
          <img src="<%= cl_image_path(layout.photo.key)%>">
        <% end %>
        <canvas id="canvas" width="150" height="150" data-download-button-target="canvas"></canvas>
        <script type="application/javascript">
          document.getElementById("canvas").getContext("2d").fillStyle = "rgb(200, 0, 0)";
          document.getElementById("canvas").getContext("2d").fillRect(10, 10, 50, 50);
        </script>
      </div>
      <div class="modal-footer d-flex justify-content-between">
        <div>
          <h3><%= layout.title %></h3>
        </div>
        <div>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" data-action="click->download-button#download" class="btn btn-primary"><i class="fa-solid fa-download"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>
